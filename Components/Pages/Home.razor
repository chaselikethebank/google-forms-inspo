@page "/"
@using ProjectReviewFormApp.Services // Add this line
@inject FeedbackService FeedbackService

<h1>Feedbacks</h1>

@if (feedbacks == null)
{
    <p>Loading...</p>
}
else
{
    <ul>
        @foreach (var feedback in feedbacks)
        {
            <li>
                <strong>@feedback.FirstName @feedback.LastName</strong>: 
                Helpfulness: @feedback.Helpfulness, 
                Logistics Satisfaction: @feedback.LogisticsSatisfaction, 
                Key Takeaways: @feedback.KeyTakeaways
                (Submitted on @feedback.ReviewDate.ToShortDateString())
            </li>
        }
    </ul>
}

@code {
    private List<Feedback> feedbacks;

    // Constructor
    public Home()
    {
        feedbacks = new List<Feedback>(); // Initialize with an empty list
    }

    protected override async Task OnInitializedAsync()
    {
        feedbacks = await FeedbackService.GetFeedbacksAsync();
    }
}
